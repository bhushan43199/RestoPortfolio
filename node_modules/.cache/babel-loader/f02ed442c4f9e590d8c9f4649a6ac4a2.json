{"ast":null,"code":"import _classCallCheck from\"M:\\\\CBU 3rd\\\\ReactJS\\\\ReactResto\\\\Website\\\\website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"M:\\\\CBU 3rd\\\\ReactJS\\\\ReactResto\\\\Website\\\\website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"M:\\\\CBU 3rd\\\\ReactJS\\\\ReactResto\\\\Website\\\\website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"M:\\\\CBU 3rd\\\\ReactJS\\\\ReactResto\\\\Website\\\\website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var RestauranstUpdate=/*#__PURE__*/function(_Component){_inherits(RestauranstUpdate,_Component);var _super=_createSuper(RestauranstUpdate);function RestauranstUpdate(){var _this;_classCallCheck(this,RestauranstUpdate);_this=_super.call(this);_this.state={name:null,email:null,rating:null,adr:null,id:null};return _this;}_createClass(RestauranstUpdate,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('http://localhost:3000/restaurant/'+this.props.match.params.id).then(function(rsp){rsp.json().then(function(result){//here we are updating values by setting state in result.name\n_this2.setState({name:result.name,email:result.email,rating:result.rating,adr:result.adr,id:result.id});});});}// making update function that calls PUT api\n},{key:\"update\",value:function update(){console.log(this.state);fetch(\"http://localhost:3000/restaurant/\"+this.state.id,{method:'PUT',headers:{'Content-Type':\"application/json\"},body:JSON.stringify(this.state)}).then(function(result){result.json().then(function(rsp){console.log(rsp);alert(\"Restaurant has been updated \");});});}},{key:\"render\",value:function render(){var _this3=this;console.log(this.props.match.params.id);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\" Restaurants Update>\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){_this3.setState({id:event.target.value});},placeholder:\"Restaurant name\",value:this.state.id}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){_this3.setState({name:event.target.value});},placeholder:\"Restaurant name\",value:this.state.name}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){_this3.setState({adr:event.target.value});},placeholder:\"Restaurant Adr\",value:this.state.adr}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){_this3.setState({email:event.target.value});},placeholder:\"Restaurant Email\",value:this.state.email}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){_this3.setState({rating:event.target.value});},placeholder:\"Restaurant Rating\",value:this.state.rating}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this3.update();}},\"Update Restaurant\")));}}]);return RestauranstUpdate;}(Component);export default RestauranstUpdate;","map":{"version":3,"sources":["M:/CBU 3rd/ReactJS/ReactResto/Website/website/src/components/RestauranstUpdate.js"],"names":["React","Component","RestauranstUpdate","state","name","email","rating","adr","id","fetch","props","match","params","then","rsp","json","result","setState","console","log","method","headers","body","JSON","stringify","alert","event","target","value","update"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass RestauranstUpdate extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state={\r\n            name:null,\r\n            email:null,\r\n            rating:null,\r\n            adr:null,\r\n            id:null\r\n        }\r\n    }\r\n    componentDidMount()\r\n    {\r\n        fetch('http://localhost:3000/restaurant/'+this.props.match.params.id)\r\n        .then((rsp)=>\r\n        {\r\n            rsp.json().then((result)=>{\r\n               //here we are updating values by setting state in result.name\r\n                this.setState({\r\n                    name:result.name,\r\n                    email:result.email,\r\n                    rating:result.rating,\r\n                    adr:result.adr,\r\n                    id:result.id\r\n\r\n\r\n                })\r\n                \r\n            })\r\n        })\r\n    }\r\n\r\n    // making update function that calls PUT api\r\n    update()\r\n    {\r\n        console.log(this.state)\r\n        fetch(\"http://localhost:3000/restaurant/\"+this.state.id,\r\n       \r\n       { \r\n           method:'PUT',\r\n           headers:{\r\n            'Content-Type':\"application/json\"\r\n        }\r\n           ,\r\n            body:JSON.stringify(this.state)\r\n    }).then((result)=>{\r\n            result.json().then((rsp)=>{\r\n                console.log(rsp)\r\n                alert(\"Restaurant has been updated \")\r\n            })\r\n        }\r\n\r\n        )\r\n    }\r\n    render() {\r\n        console.log(this.props.match.params.id)\r\n        return (\r\n            <div>\r\n               <h1> Restaurants Update></h1>\r\n                <div>\r\n                <input onChange={(event) => { this.setState({ id: event.target.value }) }} placeholder=\"Restaurant name\"\r\n                    value={this.state.id} />\r\n                    <br></br>\r\n                    <br></br>\r\n                <input onChange={(event) => { this.setState({ name: event.target.value }) }} placeholder=\"Restaurant name\"\r\n                    value={this.state.name} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <input onChange={(event) => { this.setState({ adr: event.target.value }) }} placeholder=\"Restaurant Adr\" \r\n                    value={this.state.adr}/>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <input onChange={(event) => { this.setState({ email: event.target.value }) }} placeholder=\"Restaurant Email\"\r\n                    value={this.state.email} />\r\n                    <br></br>\r\n                    <br></br>\r\n                    <input onChange={(event) => { this.setState({ rating: event.target.value }) }} placeholder=\"Restaurant Rating\" \r\n                    value={this.state.rating}/>\r\n                    <br></br>\r\n                    <br></br>\r\n\r\n                    <button onClick={()=>{this.update()}}>Update Restaurant</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RestauranstUpdate;"]},"metadata":{},"sourceType":"module"}